<div class="supercontainer">
    <div fxLayout='row' fxLayoutAlign="center center">
        <div fxFlex='100%'>
            <div fxLayout fxLayoutAlign="end center">
                <h2 fxFlex fxHide.lt-md>Ambientes</h2>
                <h3 fxFlex fxShow.lt-md fxHide> <strong> Ambientes</strong></h3>
                <!-- SAME BUTTONS FROM SMALL DEVICES -->
                <!-- <button fxShow.lt-md fxHide class="button-table" mat-raised-button>
                    <mat-icon>find_in_page</mat-icon>
                </button> -->
                <button fxShow.lt-md fxHide class="button-table" mat-raised-button color="primary"
                    routerLink='/prefactibilidad/ambiente-new'>
                    <mat-icon>add</mat-icon>
                </button>
                <!-- <button fxHide.lt-md class="button-table" mat-raised-button>
                    <mat-icon>find_in_page</mat-icon> Importar
                </button> -->
                <button fxHide.lt-md class="button-table" mat-raised-button color="primary"
                    routerLink='/prefactibilidad/ambiente-new'>
                    <mat-icon>add</mat-icon>Nuevo
                </button>
            </div>
            <ng-container *ngIf="ambientes.length > 0; else elseTemplate">

                <mat-form-field>
                    <mat-label>Buscar</mat-label>
                    <input matInput (keyup)="applyFilter($event)" placeholder="Garaje" #input>
                </mat-form-field>

                <div class="mat-elevation-z8">
                    <table mat-table [dataSource]="dataSource" matSort>
                        <!-- Nro. Column -->
                      <ng-container matColumnDef="id" class="w-5">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header ngClass="w-5 headerTableColor"> Id. </th>
                        <td mat-cell *matCellDef="let row; let i=index" ngClass="w-5"> {{row.id}} </td>
                      </ng-container>

                      <!-- Nombre Column -->
                      <ng-container matColumnDef="nombre" class="w-30">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header ngClass="headerTableColor"> Nombre </th>
                        <td mat-cell *matCellDef="let row"> {{row.nombre}} </td>
                      </ng-container>
                  
                      <!-- Descripcion Column -->
                      <ng-container matColumnDef="descripcion">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header ngClass="headerTableColor"> Descripción </th>
                        <td mat-cell *matCellDef="let row"> {{ row.descripcion }} </td>
                      </ng-container>
                  
                      <!-- Area Column -->
                      <ng-container matColumnDef="areas">
                        <th mat-header-cell *matHeaderCellDef ngClass="headerTableColor text-align-center"> Areas asociadas </th>
                        <td mat-cell *matCellDef="let row" class="text-align-center">                             
                            {{row.areas.length}}
                            <button mat-button class="min-with-button" (click)="onViewAreas(row.areas)">
                                <mat-icon>visibility</mat-icon>
                            </button>
                      </ng-container>
                  
                      <!-- Actions Column -->
                      <ng-container matColumnDef="actions" class="w-15">
                        <th mat-header-cell *matHeaderCellDef class="th-left w-15 headerTableColor text-align-center"> Acciones </th>
                        <td mat-cell *matCellDef="let row" class="th-left w-15 text-align-center">                        
                            <button mat-button class="min-with-button"  (click)="onSelectEdit(row)">
                                <mat-icon>create</mat-icon>
                            </button>
                            <button mat-button color="warn" class="min-with-button" (click)="deleteElement(row)">
                                <mat-icon>delete</mat-icon>
                            </button>
                        </td>
                      </ng-container>
                  
                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  
                      <!-- Fila que se muestra cuando no hay datos coincidentes. -->
                      <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">No hay datos que coincidan con la búsqueda "{{input.value}}"</td>
                      </tr>
                    </table>
                  
                    <mat-paginator [pageSizeOptions]="[5, 10, 15, 20]"></mat-paginator>                     
                  </div>
            </ng-container>
            <ng-template #elseTemplate>
                <em>
                    <p>Aún no se han agregado elementos</p>
                </em>
            </ng-template>
        </div>
    </div>
</div>

<br>
